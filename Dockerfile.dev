# Dockerfile.dev — pour exécuter main.py localement
FROM python:3.9-slim

# Empêche les prompts interactifs
ENV DEBIAN_FRONTEND=noninteractive

# Dépendances système de base
RUN apt-get update && apt-get install -y \
    build-essential \
    git \
    curl \
    && rm -rf /var/lib/apt/lists/*

# Dossier de travail
WORKDIR /app

# Copier requirements
COPY requirements.txt ./

# Installer les dépendances Python
RUN pip install --no-cache-dir -r requirements.txt

# Copier tout le code dans le conteneur
COPY . .

# Télécharger les modèles nécessaires à NLTK
RUN python -m nltk.downloader punkt
RUN python -m nltk.downloader punkt_tab

# Commande par défaut (à redéfinir avec `make train`)
CMD ["echo", "Use docker-compose run --rm with a specific command"]
